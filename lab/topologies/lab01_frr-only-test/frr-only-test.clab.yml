name: frr-only-test

mgmt:
  network: clab-mgmt
  ipv4-subnet: 172.20.0.0/24

topology:
  nodes:
    frr-r1:
      kind: linux
      mgmt-ipv4: 172.20.0.110
      image: frrouting/frr:v8.4.1
      binds:
        - ../../configs/lab01_frr-only-test/frr_common_daemons:/etc/frr/daemons
        - ../../configs/lab01_frr-only-test/frr_common_vtysh:/etc/frr/vtysh.conf
        - ../../configs/lab01_frr-only-test/frr-r1.conf:/etc/frr/frr.conf
    frr-r2:
      kind: linux
      mgmt-ipv4: 172.20.0.111
      image: frrouting/frr:v8.4.1
      binds:
        - ../../configs/lab01_frr-only-test/frr_common_daemons:/etc/frr/daemons
        - ../../configs/lab01_frr-only-test/frr_common_vtysh:/etc/frr/vtysh.conf
        - ../../configs/lab01_frr-only-test/frr-r2.conf:/etc/frr/frr.conf
    frr-r3:
      kind: linux
      mgmt-ipv4: 172.20.0.112
      image: frrouting/frr:v8.4.1
      binds:
        - ../../configs/lab01_frr-only-test/frr_common_daemons:/etc/frr/daemons
        - ../../configs/lab01_frr-only-test/frr_common_vtysh:/etc/frr/vtysh.conf
        - ../../configs/lab01_frr-only-test/frr-r3.conf:/etc/frr/frr.conf

  links:
    - endpoints: ["frr-r1:eth1", "frr-r2:eth1"]
    - endpoints: ["frr-r1:eth2", "frr-r3:eth1"]
    - endpoints: ["frr-r2:eth2", "frr-r3:eth2"]
